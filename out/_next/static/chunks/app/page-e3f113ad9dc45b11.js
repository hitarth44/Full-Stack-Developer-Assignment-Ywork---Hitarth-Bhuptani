(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7210:function(e,t,s){Promise.resolve().then(s.bind(s,1222))},1222:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Z}});var a=s(7437),r=s(2265),i=s(88),n=s(7042),l=s(4769);function o(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.m6)((0,n.W)(t))}let d=r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(i.fC,{ref:t,className:o("relative overflow-hidden",s),...n,children:[(0,a.jsx)(i.l_,{className:"h-full w-full rounded-[inherit]",children:r}),(0,a.jsx)(c,{}),(0,a.jsx)(i.Ns,{})]})});d.displayName=i.fC.displayName;let c=r.forwardRef((e,t)=>{let{className:s,orientation:r="vertical",...n}=e;return(0,a.jsx)(i.gb,{ref:t,orientation:r,className:o("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...n,children:(0,a.jsx)(i.q4,{className:"relative flex-1 rounded-full bg-border"})})});c.displayName=i.gb.displayName;var u=s(6694);let m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(u.fC,{ref:t,className:o("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});m.displayName=u.fC.displayName;let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(u.Ee,{ref:t,className:o("aspect-square h-full w-full",s),...r})});x.displayName=u.Ee.displayName;let f=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(u.NY,{ref:t,className:o("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r})});f.displayName=u.NY.displayName;var h=s(2549),g=s(7256),p=s(9213);let b=(0,p.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),v=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:n=!1,...l}=e,d=n?g.g7:"button";return(0,a.jsx)(d,{className:o(b({variant:r,size:i,className:s})),ref:t,...l})});function w(e){let{conversations:t,selectedConversationId:s,onSelectConversation:r,isOpen:i,onClose:n}=e,l=e=>{r(e),window.innerWidth<1024&&n()};return(0,a.jsxs)(a.Fragment,{children:[i&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden transition-opacity",onClick:n}),(0,a.jsxs)("div",{className:o("fixed lg:relative top-0 left-0 h-full w-80 border-r border-gray-200 bg-gray-50 flex flex-col z-50 transition-transform duration-300 ease-in-out",!i&&"-translate-x-full lg:translate-x-0"),children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200 bg-white flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-xl",children:"L"}),(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"logo"})]}),(0,a.jsx)(v,{variant:"ghost",size:"icon",onClick:n,className:"lg:hidden",children:(0,a.jsx)(h.Z,{className:"h-5 w-5"})})]}),(0,a.jsx)("div",{className:"px-6 py-4 bg-white border-b border-gray-200",children:(0,a.jsx)("h2",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Chats"})}),(0,a.jsx)(d,{className:"flex-1 bg-gray-50",children:(0,a.jsx)("div",{className:"px-3 py-2",children:t.map(e=>(0,a.jsxs)("button",{onClick:()=>l(e.id),className:o("w-full flex items-start gap-3 p-3 rounded-xl transition-all hover:bg-white mb-1",s===e.id&&"bg-white shadow-sm"),children:[(0,a.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,a.jsx)(m,{className:"w-12 h-12",children:(0,a.jsx)(f,{className:"text-white font-semibold text-sm",style:{backgroundColor:e.participant.avatar_color},children:e.participant.initials})}),"online"===e.participant.status&&(0,a.jsx)("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0 text-left",children:[(0,a.jsxs)("div",{className:"flex items-baseline justify-between mb-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:e.participant.username}),(0,a.jsx)("span",{className:"text-xs text-gray-500 ml-2 flex-shrink-0",children:e.last_message_time})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 truncate",children:e.last_message})]})]},e.id))})})]})]})}v.displayName="Button";var y=s(7918),j=s(690),N=s(2442);function _(){return(0,a.jsx)("div",{className:"flex items-center gap-2 bg-white rounded-2xl rounded-tl-md px-5 py-3 border border-gray-200 shadow-sm w-fit",children:(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),(0,a.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:-0.15s]"}),(0,a.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"})]})})}function k(e){let{messages:t,participant:s,isTyping:i=!1}=e,n=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(n.current){let e=n.current.querySelector("[data-radix-scroll-area-viewport]");e&&(e.scrollTop=e.scrollHeight)}},[t,i]);let l=e=>(0,y.ZP)(e,"h:mm a");return(0,a.jsxs)("div",{className:"flex-1 flex flex-col h-full bg-gray-50",children:[(0,a.jsx)("div",{className:"border-b border-gray-200 bg-white px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(m,{className:"w-12 h-12",children:(0,a.jsx)(f,{className:"text-white font-semibold",style:{backgroundColor:s.avatar_color},children:s.initials})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-semibold text-gray-900 text-lg",children:s.username}),(0,a.jsx)("p",{className:"text-sm text-green-600 capitalize",children:s.status})]})]})}),(0,a.jsx)(d,{className:"flex-1 px-6 py-6",ref:n,children:(0,a.jsxs)("div",{className:"space-y-4 max-w-4xl mx-auto",children:[t.map((e,s)=>{var r,i;let n=0===s||(null===(r=t[s-1])||void 0===r?void 0:r.sender_id)!==e.sender_id||new Date(e.created_at).getTime()-new Date(null===(i=t[s-1])||void 0===i?void 0:i.created_at).getTime()>3e5;return(0,a.jsxs)("div",{className:o("flex flex-col",e.is_own&&"items-end"),children:[n&&(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1 px-1",children:l(e.created_at)}),(0,a.jsxs)("div",{className:o("rounded-2xl px-5 py-3 max-w-2xl shadow-sm animate-in fade-in slide-in-from-bottom-2 duration-300",e.is_own?"bg-blue-600 text-white rounded-tr-md":"bg-white text-gray-900 rounded-tl-md border border-gray-200"),children:[(0,a.jsx)("p",{className:"text-[15px] leading-relaxed",children:e.content}),e.is_own&&(0,a.jsxs)("div",{className:"flex items-center justify-end mt-1 gap-1",children:["sent"===e.status&&(0,a.jsx)(j.Z,{className:"h-3 w-3"}),"sending"===e.status&&(0,a.jsx)(N.Z,{className:"h-3 w-3"})]})]})]},e.id)}),i&&(0,a.jsx)("div",{className:"flex flex-col animate-in fade-in slide-in-from-bottom-2 duration-300",children:(0,a.jsx)(_,{})})]})})]})}var C=s(6020);let T=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("textarea",{className:o("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...r})});function S(e){let{onSendMessage:t}=e,[s,i]=(0,r.useState)(""),n=()=>{s.trim()&&(t(s),i(""))};return(0,a.jsx)("div",{className:"border-t border-gray-200 bg-white px-6 py-4",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto flex items-end gap-3",children:[(0,a.jsx)(T,{value:s,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),n())},placeholder:"Type a message...",className:"min-h-[56px] max-h-32 resize-none rounded-2xl border-gray-300 px-5 py-4 text-[15px] focus-visible:ring-blue-500",rows:1}),(0,a.jsx)(v,{onClick:n,disabled:!s.trim(),size:"icon",className:"h-14 w-14 rounded-2xl bg-blue-600 hover:bg-blue-700 flex-shrink-0",children:(0,a.jsx)(C.Z,{className:"h-5 w-5"})})]})})}T.displayName="Textarea";var I=s(8004),D=s(1827);function z(e){let{onToggleSidebar:t,isSidebarOpen:s}=e;return(0,a.jsxs)("div",{className:"fixed top-0 left-0 right-0 z-50 h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4 lg:px-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(v,{variant:"ghost",size:"icon",onClick:t,className:"lg:hidden",children:(0,a.jsx)(I.Z,{className:"h-6 w-6"})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold",children:"L"}),(0,a.jsx)("h1",{className:"text-xl font-semibold text-gray-900 hidden sm:block",children:"Chat App"})]})]}),(0,a.jsx)(v,{size:"icon",variant:"ghost",className:"rounded-full",children:(0,a.jsx)(D.Z,{className:"h-5 w-5"})})]})}let M=[{id:"1",username:"Emma Thompson",avatar_color:"#3b82f6",status:"online",initials:"EM"},{id:"2",username:"Michael Johnson",avatar_color:"#10b981",status:"offline",initials:"MJ"},{id:"3",username:"Sophia Lee",avatar_color:"#8b5cf6",status:"offline",initials:"SL"},{id:"4",username:"Robert Brown",avatar_color:"#f97316",status:"offline",initials:"RB"},{id:"5",username:"Amelia Wilson",avatar_color:"#ec4899",status:"offline",initials:"AW"},{id:"6",username:"Daniel Martinez",avatar_color:"#6366f1",status:"offline",initials:"DM"}],L=[{id:"1",participant:M[0],last_message:"I've sent you the latest project fi...",last_message_time:"12:45 PM",unread:!0},{id:"2",participant:M[1],last_message:"Are we still meeting for coffee to...",last_message_time:"Yesterday",unread:!1},{id:"3",participant:M[2],last_message:"The design team loved your pre...",last_message_time:"Yesterday",unread:!1},{id:"4",participant:M[3],last_message:"Can you review the budget prop...",last_message_time:"Tuesday",unread:!1},{id:"5",participant:M[4],last_message:"Thanks for your help with the cli...",last_message_time:"Monday",unread:!1},{id:"6",participant:M[5],last_message:"Let's schedule a call to discuss t...",last_message_time:"May 29",unread:!1}],R={1:[{id:"1",conversation_id:"1",sender_id:"1",content:"Hey! Just wanted to let you know that I've finished working on the new feature. I think you'll really like how it turned out. Let me know when you get a chance to review it!",created_at:new Date("2024-01-15T12:00:00"),is_own:!1,status:"received"},{id:"2",conversation_id:"1",sender_id:"1",content:"Oh, I almost forgot - do you have the latest version of the client presentation? I want to make sure we're all on the same page for tomorrow.",created_at:new Date("2024-01-15T12:05:00"),is_own:!1,status:"received"},{id:"3",conversation_id:"1",sender_id:"current",content:"I've just sent it to your email. It includes all the updates we discussed in the last meeting. Let me know if you need anything else!",created_at:new Date("2024-01-15T12:15:00"),is_own:!0,status:"sent"},{id:"4",conversation_id:"1",sender_id:"1",content:"Got it, thanks! I'll review it before our lunch. See you soon!",created_at:new Date("2024-01-15T12:30:00"),is_own:!1,status:"received"}]},E=["That's a great point! Let me think about that.","I completely agree with you on this.","Interesting! Can you tell me more about that?","Thanks for sharing! I'll get back to you shortly.","Sounds good! Let's discuss this further.","I appreciate your input on this matter.","That makes sense. I'll look into it right away.","Perfect! I'll update you as soon as possible.","Got it! I'll take care of that for you.","Absolutely! Let's make it happen."];function Z(){let[e,t]=(0,r.useState)("1"),[s,i]=(0,r.useState)(R),[n,l]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1),c=L.find(t=>t.id===e),u=e&&s[e]||[],m=(0,r.useCallback)(t=>{if(!e)return;let s={id:Date.now().toString(),conversation_id:e,sender_id:"current",content:t,created_at:new Date,is_own:!0,status:"sending"};i(t=>({...t,[e]:[...t[e]||[],s]})),setTimeout(()=>{i(t=>({...t,[e]:t[e].map(e=>e.id===s.id?{...e,status:"sent"}:e)})),d(!0),setTimeout(()=>{let t={id:(Date.now()+1).toString(),conversation_id:e,sender_id:(null==c?void 0:c.participant.id)||"1",content:E[Math.floor(Math.random()*E.length)],created_at:new Date,is_own:!1,status:"received"};i(s=>({...s,[e]:[...s[e],t]})),d(!1)},2e3+1500*Math.random())},500)},[e,c]);return(0,a.jsxs)("div",{className:"flex flex-col h-screen bg-gray-50",children:[(0,a.jsx)(z,{onToggleSidebar:()=>l(!n),isSidebarOpen:n}),(0,a.jsxs)("div",{className:"flex flex-1 pt-16 overflow-hidden",children:[(0,a.jsx)(w,{conversations:L,selectedConversationId:e,onSelectConversation:t,isOpen:n,onClose:()=>l(!1)}),c?(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsx)(k,{messages:u,participant:c.participant,isTyping:o}),(0,a.jsx)(S,{onSendMessage:m})]}):(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-gray-500",children:"Select a conversation to start chatting"})})]})]})}}},function(e){e.O(0,[108,971,864,744],function(){return e(e.s=7210)}),_N_E=e.O()}]);